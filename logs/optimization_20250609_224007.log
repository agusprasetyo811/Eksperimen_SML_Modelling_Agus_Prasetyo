2025-06-09 22:40:09,293 - INFO - Starting robust model optimization with business validation...
2025-06-09 22:40:09,293 - INFO - Business constraints:
2025-06-09 22:40:09,293 - INFO -   Target approval rate: 60.0%
2025-06-09 22:40:09,293 - INFO -   Min approval rate: 30.0%
2025-06-09 22:40:09,293 - INFO -   Max approval rate: 80.0%
2025-06-09 22:40:09,294 - INFO - Loading and validating data...
2025-06-09 22:40:09,307 - INFO - üéØ CLASS BALANCE ANALYSIS:
2025-06-09 22:40:09,307 - INFO -   Training approval rate: 0.430 (1031/2400)
2025-06-09 22:40:09,307 - INFO -   Test approval rate: 0.430 (258/600)
2025-06-09 22:40:09,307 - INFO - üìä OPTIMAL CLASS WEIGHTS (targeting 60.0% approval):
2025-06-09 22:40:09,307 - INFO -   Class 0 (Reject): 1.000
2025-06-09 22:40:09,307 - INFO -   Class 1 (Approve): 0.667
2025-06-09 22:40:09,312 - INFO - Data loaded successfully:
2025-06-09 22:40:09,312 - INFO -   Training: 2400 samples, 17 features
2025-06-09 22:40:09,312 - INFO -   Testing: 600 samples
2025-06-09 22:40:09,312 - INFO -   Optimization split: 1920 train, 480 validation
2025-06-09 22:40:09,312 - INFO - Calculating baseline performance...
2025-06-09 22:40:09,312 - INFO -   Testing Default RF...
2025-06-09 22:40:10,688 - INFO - üè¶ Business logic validation for Default RF...
2025-06-09 22:40:10,709 - INFO -   ‚úÖ Default RF passes business logic validation
2025-06-09 22:40:10,709 - INFO -      Approval rate: 42.9%
2025-06-09 22:40:10,709 - INFO -     F1: 0.6507, Acc: 0.7083, CV: 0.6584
2025-06-09 22:40:10,709 - INFO -     Approval Rate: 42.9%
2025-06-09 22:40:10,709 - INFO -     Business Logic: ‚úÖ PASS
2025-06-09 22:40:10,709 - INFO -   Testing Balanced RF...
2025-06-09 22:40:12,702 - INFO - üè¶ Business logic validation for Balanced RF...
2025-06-09 22:40:12,729 - INFO -   ‚úÖ Balanced RF passes business logic validation
2025-06-09 22:40:12,729 - INFO -      Approval rate: 42.9%
2025-06-09 22:40:12,730 - INFO -     F1: 0.6450, Acc: 0.7083, CV: 0.6646
2025-06-09 22:40:12,730 - INFO -     Approval Rate: 42.9%
2025-06-09 22:40:12,730 - INFO -     Business Logic: ‚úÖ PASS
2025-06-09 22:40:12,730 - INFO -   Testing Optimal Weight RF...
2025-06-09 22:40:14,621 - INFO - üè¶ Business logic validation for Optimal Weight RF...
2025-06-09 22:40:14,663 - INFO -   ‚úÖ Optimal Weight RF passes business logic validation
2025-06-09 22:40:14,663 - INFO -      Approval rate: 42.9%
2025-06-09 22:40:14,663 - INFO -     F1: 0.6316, Acc: 0.6967, CV: 0.6728
2025-06-09 22:40:14,663 - INFO -     Approval Rate: 42.9%
2025-06-09 22:40:14,663 - INFO -     Business Logic: ‚úÖ PASS
2025-06-09 22:40:14,663 - INFO - üèÜ Selected Baseline: Default RF
2025-06-09 22:40:14,663 - INFO -   Test F1-Score: 0.6507
2025-06-09 22:40:14,663 - INFO -   Test Accuracy: 0.7083
2025-06-09 22:40:14,663 - INFO -   CV F1-Score: 0.6584
2025-06-09 22:40:14,663 - INFO -   Class Weight: None
2025-06-09 22:40:22,126 - INFO - Starting Random Forest optimization with business constraints...
2025-06-09 22:40:22,126 - INFO -   Strategy 1: Conservative Randomized Search...
2025-06-09 22:41:10,747 - INFO - üè¶ Business logic validation for RF_RandomizedSearch...
2025-06-09 22:41:10,762 - INFO -   ‚úÖ RF_RandomizedSearch passes business logic validation
2025-06-09 22:41:10,762 - INFO -      Approval rate: 45.6%
2025-06-09 22:41:10,762 - INFO -     ‚úÖ Best CV F1: 0.6989
2025-06-09 22:41:10,762 - INFO -     ‚úÖ Validation F1: 0.6682
2025-06-09 22:41:10,762 - INFO -     ‚úÖ Approval Rate: 45.6%
2025-06-09 22:41:26,423 - INFO -   Strategy 2: Business-Constrained Optuna Optimization...
2025-06-09 22:42:28,141 - INFO - üè¶ Business logic validation for RF_Optuna...
2025-06-09 22:42:28,170 - INFO -   ‚úÖ RF_Optuna passes business logic validation
2025-06-09 22:42:28,170 - INFO -      Approval rate: 46.5%
2025-06-09 22:42:28,170 - INFO -     ‚úÖ Best CV F1: 0.6933
2025-06-09 22:42:28,170 - INFO -     ‚úÖ Validation F1: 0.6620
2025-06-09 22:42:28,170 - INFO -     ‚úÖ Approval Rate: 46.5%
2025-06-09 22:42:44,371 - INFO - Starting multi-model optimization with business constraints...
2025-06-09 22:42:44,372 - INFO -   Optimizing Gradient Boosting...
2025-06-09 22:42:55,926 - INFO - üè¶ Business logic validation for Gradient Boosting...
2025-06-09 22:42:55,931 - INFO -   ‚úÖ Gradient Boosting passes business logic validation
2025-06-09 22:42:55,931 - INFO -      Approval rate: 44.0%
2025-06-09 22:42:55,931 - INFO -     ‚úÖ CV F1: 0.6424
2025-06-09 22:42:55,931 - INFO -     ‚úÖ Val F1: 0.6283
2025-06-09 22:42:55,931 - INFO -     ‚úÖ Approval Rate: 44.0%
2025-06-09 22:43:05,907 - INFO -   Optimizing Extra Trees...
2025-06-09 22:43:10,081 - INFO - üè¶ Business logic validation for Extra Trees...
2025-06-09 22:43:10,093 - INFO -   ‚úÖ Extra Trees passes business logic validation
2025-06-09 22:43:10,093 - INFO -      Approval rate: 45.4%
2025-06-09 22:43:10,093 - INFO -     ‚úÖ CV F1: 0.6566
2025-06-09 22:43:10,093 - INFO -     ‚úÖ Val F1: 0.6840
2025-06-09 22:43:10,093 - INFO -     ‚úÖ Approval Rate: 45.4%
2025-06-09 22:43:25,641 - INFO -   Optimizing Logistic Regression...
2025-06-09 22:43:26,178 - INFO - üè¶ Business logic validation for Logistic Regression...
2025-06-09 22:43:26,178 - INFO -   ‚úÖ Logistic Regression passes business logic validation
2025-06-09 22:43:26,178 - INFO -      Approval rate: 47.1%
2025-06-09 22:43:26,179 - INFO -     ‚úÖ CV F1: 0.6598
2025-06-09 22:43:26,179 - INFO -     ‚úÖ Val F1: 0.6713
2025-06-09 22:43:26,179 - INFO -     ‚úÖ Approval Rate: 47.1%
2025-06-09 22:43:45,249 - INFO - Evaluating all optimized models with business validation...
2025-06-09 22:43:45,250 - INFO - Test Set Evaluation (Business-Valid Models Only):
2025-06-09 22:43:45,250 - INFO - ------------------------------------------------------------------------------------------
2025-06-09 22:43:45,250 - INFO - Model                     Test F1    Test Acc   Approval%  Improvement 
2025-06-09 22:43:45,250 - INFO - ------------------------------------------------------------------------------------------
2025-06-09 22:43:45,274 - INFO - üè¶ Business logic validation for RF_randomized_search_test...
2025-06-09 22:43:45,292 - INFO -   ‚úÖ RF_randomized_search_test passes business logic validation
2025-06-09 22:43:45,292 - INFO -      Approval rate: 44.5%
2025-06-09 22:43:45,292 - INFO - RF_randomized_search      0.6629     0.7050     44.5%        +0.0122
2025-06-09 22:43:45,316 - INFO - üè¶ Business logic validation for RF_optuna_test...
2025-06-09 22:43:45,346 - INFO -   ‚úÖ RF_optuna_test passes business logic validation
2025-06-09 22:43:45,346 - INFO -      Approval rate: 46.0%
2025-06-09 22:43:45,346 - INFO - RF_optuna                 0.6667     0.7033     46.0%        +0.0160
2025-06-09 22:43:45,353 - INFO - üè¶ Business logic validation for Gradient Boosting_test...
2025-06-09 22:43:45,358 - INFO -   ‚úÖ Gradient Boosting_test passes business logic validation
2025-06-09 22:43:45,358 - INFO -      Approval rate: 40.5%
2025-06-09 22:43:45,358 - INFO - Gradient Boosting         0.6148     0.6783     40.5%        -0.0359
2025-06-09 22:43:45,371 - INFO - üè¶ Business logic validation for Extra Trees_test...
2025-06-09 22:43:45,386 - INFO -   ‚úÖ Extra Trees_test passes business logic validation
2025-06-09 22:43:45,386 - INFO -      Approval rate: 42.8%
2025-06-09 22:43:45,386 - INFO - Extra Trees               0.6175     0.6717     42.8%        -0.0332
2025-06-09 22:43:45,390 - INFO - üè¶ Business logic validation for Logistic Regression_test...
2025-06-09 22:43:45,390 - INFO -   ‚úÖ Logistic Regression_test passes business logic validation
2025-06-09 22:43:45,390 - INFO -      Approval rate: 46.0%
2025-06-09 22:43:45,390 - INFO - Logistic Regression       0.6292     0.6700     46.0%        -0.0215
2025-06-09 22:43:45,390 - INFO - ------------------------------------------------------------------------------------------
2025-06-09 22:43:45,390 - INFO - 
üèÜ BEST BUSINESS-VALID MODEL: RF_optuna
2025-06-09 22:43:45,390 - INFO -   Test F1-Score: 0.6667
2025-06-09 22:43:45,390 - INFO -   Test Accuracy: 0.7033
2025-06-09 22:43:45,390 - INFO -   Test Precision: 0.6449
2025-06-09 22:43:45,390 - INFO -   Test Recall: 0.6899
2025-06-09 22:43:45,390 - INFO -   Test Approval Rate: 46.0%
2025-06-09 22:43:45,390 - INFO -   Improvement over baseline: +0.0160
2025-06-09 22:43:45,390 - INFO - Saving best model with business validation metadata...
2025-06-09 22:43:45,426 - INFO - Model saved: MLProject/output/models/best_loan_model_20250609_224345.pkl
2025-06-09 22:43:45,426 - INFO - Model info saved: MLProject/output/models/model_info_20250609_224345.txt
2025-06-09 22:44:13,311 - INFO - ======================================================================
2025-06-09 22:44:13,312 - INFO - ROBUST MODEL OPTIMIZATION COMPLETED SUCCESSFULLY!
2025-06-09 22:44:13,312 - INFO - ======================================================================
2025-06-09 22:44:13,312 - INFO - OPTIMIZATION SUMMARY:
2025-06-09 22:44:13,312 - INFO -   Baseline F1-Score: 0.6507
2025-06-09 22:44:13,313 - INFO -   Baseline Approval Rate: 42.9%
2025-06-09 22:44:13,313 - INFO -   Best F1-Score: 0.6667
2025-06-09 22:44:13,313 - INFO -   Best Approval Rate: 46.0%
2025-06-09 22:44:13,313 - INFO -   Total Improvement: +0.0160
2025-06-09 22:44:13,313 - INFO -   Best Model: RF_optuna
2025-06-09 22:44:13,313 - INFO - 
VALIDATION RESULTS:
2025-06-09 22:44:13,313 - INFO -   F1 Target (+0.025): ‚ùå NOT MET (+0.0160)
2025-06-09 22:44:13,313 - INFO -   Business Logic: ‚úÖ VALID
2025-06-09 22:44:13,313 - INFO -   Approval Rate: ‚úÖ HEALTHY (46.0%)
2025-06-09 22:44:13,313 - INFO - 
‚úÖ BUSINESS VALIDATION PASSED
2025-06-09 22:44:13,313 - INFO -    Model safe for production despite F1 target not fully met
